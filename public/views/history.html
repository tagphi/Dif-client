<div>
    <header class="header">
        <h1 class="hlogo"></h1>
        <div class="header-title">
            <h2>DIF</h2>
            <p>Distributed Invalid Traffic Filter</p>
        </div>
        <div class="header-info">
            <button ng-click="logout()" type="button" class="link-default">退出登录</button>
        </div>
    </header>
    <section class="main">
        <alert-msg alert-messages="alertMessages"></alert-msg>
        <h2 class="history-head">
            <strong>历史提交记录</strong>
            <a ng-click="openUploadDlg()" class="link-normal"><i class="icon-upload"></i> 上传</a>
            <a ng-click="mergeBlacklist()" class="link-default"><i class="icon-git-merge"></i> 合并版本</a>
        </h2>
        <section class="mainarea">
            <div class="htitle">
                <div class="htime">
                    <p>日期范围</p>
                    <div class="calendar-box">
                        <input ng-model="dateRange" type="text" placeholder="日期范围" id="date">
                        <i class="icon-calendar"></i>
                    </div>
                </div>
                <span class="hlink">
					<a ng-click="queryHistories()" class="link-default"> 查询</a>
					<a ng-click="clearDate()" class="link-normal"><i class="icon-trash"></i> 清空</a>
				</span>
            </div>
            <nav class="history-tab">
                <ul>
                    <li ng-click="selectTab('ipTab')" ng-class="{on:ipTab.show}">IP</li>
                    <li ng-click="selectTab('deviceTab')" ng-class="{on:deviceTab.show}">设备</li>
                    <li ng-click="selectTab('defaultTab')" ng-class="{on:defaultTab.show}">默认设备</li>
                </ul>
            </nav>
            <!--ip表-->
            <div ng-show="ipTab.show" class="text-center">
                <div class="empty-container" ng-show="ipTab.histories.length==0">
                    <div class="empty-content">
                        <span class="iconfont  empty-icon">&#xe60b;</span><br>
                        <div class="empty-label">暂无数据</div>
                    </div>
                </div>
                <table ng-show="ipTab.histories.length!=0" class="table tc">
                    <thead>
                    <tr>
                        <th>成员名</th>
                        <th>日期</th>
                        <th>类型</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="ipHist in ipTab.histories">
                        <td>{{ipHist.mspid}}</td>
                        <td>{{ipHist.date}}</td>
                        <td>{{ipHist.type}}</td>
                        <td><a ng-href="/blacklist/downloadBlacklist?type=ip&key={{ipHist.key}}">下载</a></td>
                    </tr>
                    </tbody>
                </table>
                <nav aria-label="Page navigation" class="tr">
                    <common-pagination
                            total="ipTab.total"
                            page-size="pageSize"
                            current-page="ipTab.currentPage"></common-pagination>
                </nav>
            </div>

            <!--device表-->
            <div ng-show="deviceTab.show">
                <div class="empty-container" ng-show="deviceTab.histories.length==0">
                    <div class="empty-content">
                        <span class="iconfont  empty-icon">&#xe60b;</span><br>
                        <div class="empty-label">暂无数据</div>
                    </div>
                </div>
                <table ng-show="deviceTab.histories.length!=0" class="table tc">
                    <thead>
                    <tr>
                        <th>成员名</th>
                        <th>日期</th>
                        <th>类型</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="deviceHist in deviceTab.histories">
                        <td>{{deviceHist.mspid}}</td>
                        <td>{{deviceHist.date}}</td>
                        <td>{{deviceHist.type}}</td>
                        <td><a ng-href="/blacklist/downloadBlacklist?type=device&key={{deviceHist.key}}">下载</a></td>
                    </tr>
                    </tbody>
                </table>
                <nav aria-label="Page navigation" class="tr">
                    <common-pagination
                            total="deviceTab.total"
                            page-size="pageSize"
                            current-page="deviceTab.currentPage"></common-pagination>
                </nav>
            </div>

            <!--default表-->
            <div ng-show="defaultTab.show">
                <div class="empty-container" ng-show="defaultTab.histories.length==0">
                    <div class="empty-content">
                        <span class="iconfont  empty-icon">&#xe60b;</span><br>
                        <div class="empty-label">暂无数据</div>
                    </div>
                </div>
                <table ng-show="defaultTab.histories.length!=0" class="table tc">
                    <thead>
                    <tr>
                        <th>成员名</th>
                        <th>日期</th>
                        <th>类型</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="defaultHist in defaultTab.histories">
                        <td>{{defaultHist.mspid}}</td>
                        <td>{{defaultHist.date}}</td>
                        <td>{{defaultHist.type}}</td>
                        <td><a ng-href="/blacklist/downloadBlacklist?type=default&key={{defaultHist.key}}">下载</a></td>
                    </tr>
                    </tbody>
                </table>
                <nav aria-label="Page navigation" class="tr">
                    <common-pagination
                            total="defaultTab.total"
                            page-size="pageSize"
                            current-page="defaultTab.currentPage"></common-pagination>
                </nav>
            </div>
        </section>
    </section>
    <footer class="footer">
        <p>Powered by Hyperledger Fabric</p>
        <p>© 2018-2028 RTBAsia</p>   
    </footer>
</div>